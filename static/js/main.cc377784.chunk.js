(this.webpackJsonptaikonotes=this.webpackJsonptaikonotes||[]).push([[0],{17:function(e,n,s){},23:function(e,n,s){"use strict";s.r(n);var t=s(0),o=s(6),d=s.n(o),c=(s(17),s(7)),i=s(4),l=s(1),a=Object(c.a)(Array(20).keys()).map((function(e){return e+1})),r=function(e){var n=e.settings,s=e.setSettings,t=function(e){var n=e.target,t=n.name,o=n.value,d="number"===n.dataType?Number(o):o;s(Object(i.a)({},t,d))};return Object(l.jsxs)("form",{onSubmit:function(e){},className:"flex flex-col ",children:[Object(l.jsxs)("div",{className:"flex flex-row justify-between",children:[Object(l.jsx)("label",{children:"Cells Per Line"}),Object(l.jsx)("select",{name:"cellsPerLine",className:"p-2 ",onChange:t,value:n.cellsPerLine,"data-data-type":"number",children:a.map((function(e){return Object(l.jsx)("option",{value:e,children:e},"cellsPerLine_".concat(e))}))})]}),Object(l.jsxs)("div",{className:"flex flex-row justify-between",children:[Object(l.jsx)("label",{children:"Divide every"}),Object(l.jsx)("select",{name:"divideEvery",className:"p-2 ",onChange:t,value:n.divideEvery,"data-data-type":"number",children:a.map((function(e){return Object(l.jsx)("option",{value:e,children:e},"defaultDivideEvery_".concat(e))}))})]}),Object(l.jsxs)("div",{className:"flex flex-row justify-between items-end mt-3",children:[Object(l.jsx)("label",{children:"Available Sounds"}),Object(l.jsx)("input",{name:"sounds",className:"border-black border p-1",onChange:t,value:n.sounds})]})]})},u=s(3),x=s(8),b="main",j=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return{cells:[],totalLines:0,name:"Line ".concat(e)}},m=Object(x.b)({name:b,initialState:{sections:[{name:"Line 1",totalLines:4,cells:[{soundIndex:1},null,{soundIndex:3},{soundIndex:1},{soundIndex:0},{soundIndex:3},{soundIndex:1},{soundIndex:0},{soundIndex:1},null,{soundIndex:1},null,{soundIndex:4},{soundIndex:5},{soundIndex:1},null,{soundIndex:4},{soundIndex:6},{soundIndex:8},{soundIndex:9},{soundIndex:7},{soundIndex:3},{soundIndex:11},null,{soundIndex:4},{soundIndex:2},{soundIndex:0},{soundIndex:3},{soundIndex:7},{soundIndex:5},{soundIndex:4},{soundIndex:5},{soundIndex:1},null,null,{soundIndex:5},{soundIndex:1},{soundIndex:12},{soundIndex:10},{soundIndex:1},{soundIndex:7},{soundIndex:2},null,{soundIndex:1},null,{soundIndex:5},{soundIndex:4},{soundIndex:4},{soundIndex:7},{soundIndex:3},{soundIndex:1},null,{soundIndex:7},{soundIndex:4},{soundIndex:3},null,{soundIndex:7},{soundIndex:1},null,null,{soundIndex:1}]},{name:"Line 2",totalLines:0,cells:[{soundIndex:1},{soundIndex:2},null,null,{soundIndex:1},null,{soundIndex:3},{soundIndex:1},{soundIndex:2}]}],settings:{cellsPerLine:16,divideEvery:2,sounds:"don, kon, ka, do, ko, ro, su, tsu,ku, kara, ra, doko"}},reducers:{setSettings:function(e,n){Object.keys(n.payload).forEach((function(s){e.settings[s]=n.payload[s]}))},setTotalLines:function(e,n){var s=n.payload,t=s.sectionIndex,o=s.totalLines;e.sections[t].totalLines=Math.max(o,0)},setSoundIndex:function(e,n){var s=n.payload,t=s.sectionIndex,o=s.cellIndex,d=s.soundIndex,c=(e.sections[t]||j()).cells[o]||{};c.soundIndex=d,e.sections[t].cells[o]=c},setMainState:function(e,n){return n.payload},addSection:function(e,n){e.sections.push(j(e.sections.length+1))},removeLastSection:function(e,n){e.sections.pop()}}}),v=m.actions,I=(v.setCellsPerLine,v.setDivideEvery,v.setTotalLines),f=(v.setSounds,v.setSettings),h=v.setSoundIndex,O=v.setMainState,g=v.addSection,p=v.removeLastSection,y=m.reducer,L=s(5),N=s(12),k=["children","className"],w=function(e){var n=e.children,s=e.className,t=Object(N.a)(e,k);return Object(l.jsx)("button",Object(L.a)(Object(L.a)({className:"p-3 bg-blue-100 text-gray-800 cursor-pointer hover:opacity-75 ".concat(s)},t),{},{children:n}))},S={reducer:Object(i.a)({},b,y)},C=Object(x.a)(S),P="taikoNotesState",E=function(){var e=C.getState().main;localStorage.setItem(P,JSON.stringify(e))},A=function(e){var n,s=e.sound,t=e.onClick,o=e.onContextMenu,d=e.isPlaying,c=e.isStartingCell;return n=d?"bg-red-300 hover:bg-red-600":c?"bg-gray-300 hover:bg-blue-400":"hover:bg-blue-400",Object(l.jsx)("div",{className:"flex flex-row justify-center items-center select-none border border-blue-800 h-10 cursor-pointer ".concat(n),onClick:t,onContextMenu:o,children:s})},M=function(e){var n=e.section,s=e.sectionIndex,t=e.cellsPerLine,o=e.divideEvery,d=e.soundArray,c=n.name,i=n.cells,a=n.totalLines,r=[],x=t*a,b=Object(u.b)();console.log("yo");for(var j=function(e){var n=(i[e]||{}).soundIndex,c=void 0===n?0:n;r.push(Object(l.jsx)(A,{isStartingCell:e%o===0,cellsPerLine:t,sound:d[c],onClick:function(){var n=(c+1)%d.length;b(h({cellIndex:e,sectionIndex:s,soundIndex:n}))},onContextMenu:function(){return b(h({cellIndex:e,sectionIndex:s,soundIndex:0}))}},"cell_".concat(s,"_").concat(e)))},m=0;m<x;m++)j(m);return Object(l.jsxs)("div",{className:"mb-8",children:[Object(l.jsx)("h2",{className:"text-2xl mb-2",children:c}),Object(l.jsx)("div",{className:"grid grid-cols-".concat(t," border border-blue-800"),children:r}),Object(l.jsxs)("div",{children:[Object(l.jsx)(w,{onClick:function(){b(I({sectionIndex:s,totalLines:a-1}))},children:"-"}),Object(l.jsx)(w,{className:"mr-2",onClick:function(){b(I({sectionIndex:s,totalLines:a+1}))},children:"+"})]})]},"section_".concat(s))},_=[new Audio("/drum-sounds-master/closed-hihat.mp3"),new Audio("/drum-sounds-master/acoustic-snare.mp3"),new Audio("/drum-sounds-master/bass-drum-1.mp3")];console.log(_);var J=function(e){var n=Object(u.b)(),s=Object(u.c)((function(e){var n=e.main.settings;return{cellsPerLine:n.cellsPerLine,divideEvery:n.divideEvery,sounds:n.sounds}})),o=Object(u.c)((function(e){return e.main.sections})),d=s.cellsPerLine,i=s.divideEvery,a=s.sounds,x=Object(t.useMemo)((function(){return[null].concat(Object(c.a)(a.split(",").map((function(e){return e.trim()}))))}),[a]);return console.log("entire taiko grid rerender"),Object(l.jsxs)("div",{children:[Object(l.jsxs)("div",{className:"settings mt-3 mb-3 p-3 flex flex-row",children:[Object(l.jsx)("img",{src:"".concat("","/favicon/Taiko.svg"),className:"w-1/12 pr-2",alt:"taiko logo"}),Object(l.jsx)("div",{className:"w-full md:w-6/12 lg:w-4/12 border border-blue-300 p-2 mr-auto w-full",children:Object(l.jsx)(r,{settings:s,setSettings:function(e){n(f(e))}})}),Object(l.jsxs)("div",{className:"w-full md:w-6/12 lg:w-4/12 flex flex-col justify-between",children:[Object(l.jsx)(w,{onClick:function(){n(g())},className:"m-4",children:"Add Section"}),Object(l.jsx)(w,{onClick:function(){n(p())},className:"m-4",children:"Remove Last Section"}),Object(l.jsx)(w,{onClick:function(){E()},className:"m-4",children:"Save"}),Object(l.jsx)(w,{onClick:function(){var e=function(){var e=localStorage.getItem(P);if(e)return JSON.parse(e)}();console.log(e),n(O(e))},className:"m-4",children:"Load"})]})]}),Object(l.jsx)("div",{children:o.map((function(e,n){return Object(l.jsx)(M,{cellsPerLine:d,divideEvery:i,section:e,sectionIndex:n,soundArray:x})}))})]})},T=function(e){var n=e.children;return Object(l.jsx)("div",{className:"container mx-auto",children:n})};var D=function(){return Object(l.jsx)(u.a,{store:C,children:Object(l.jsx)("div",{className:"app",children:Object(l.jsx)(T,{children:Object(l.jsx)(J,{})})})})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));d.a.render(Object(l.jsx)(D,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.cc377784.chunk.js.map